---
title: "Git og versionskontrol"
subtitle: ""
author: "Jeppe Fjeldgaard Qvist"
date: today
format: 
  revealjs:
    include-after-body: "resources/timer.html"
    navigation-mode: linear
    slide-number: c
    show-slide-number: print
    embed-resources: true
    self-contained-math: true
    smaller: true
    scrollable: true
    theme: default
    include-in-header: 
      - text: |
          <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
          <style>
          .reveal {
            font-family: "Libre Baskerville", serif !important;
          }
          .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 {
            font-family: "Libre Baskerville", serif !important;
          }
          .reveal .slides section {
            overflow: visible !important;
          }
          .reveal ul, .reveal ol {
            margin: 0.5em 0;
            padding-left: 1.5em;
            overflow: visible !important;
          }
          .reveal li {
            margin-bottom: 0.25em;
            overflow: visible !important;
          }
          </style>
---

## Dagens program

* Filsystemer og -hierakier (delvis genopfriskning af de indledende forelÃ¦sninger)
* Git (Hvad er det?)
* Git (Hvordan bruger vi det?)
* Workshop (i studiegrupperne; opsÃ¦tning af mini-projekter)

## Lagring af data pÃ¥ en computer 

> Hvad er en fil? 

<span class="timer" data-time="120"></span>

---

*En sekvens af data, gemt som en sammenhÃ¦ngende enhed:*

* BinÃ¦re data
* Tekst
* Programmer
* ... osv. 

---

*Filnavn og -udvidelse (fx projekt.docx):*

* **Basenavn:** projekt
* **Filudvidelse:** *.docx*, angiver hvilken data filen indeholder og hvordan den skal lÃ¦ses

---

*Metaelementer:*

* FilstÃ¸rrelse: "hvor mange bytes optager filen"
* Oprettelse- og Ã¦ndringsdato
* Filens type
* Ejerskab
* Adgangsrettigheder
* ... osv. 

## Fil*organisering*

> Spg.: Hvad vil det sige at filer er organiseret? Hvorfor er det nÃ¸dvendigt? Og hvordan organisere I filer pÃ¥ jeres computer? 

<span class="timer" data-time="240"></span>

---

* Referer til hvordan vores filer (data) og mapper (directories) er struktureret og lagret pÃ¥ vores lagringsenhed (harddisk, SSD, ekstern enhed, â€¦).

* Denne struktur bestemmer hvordan data hentes og gemmes, og gÃ¸r det muligt for brugeren eller programmer at finde, tilgÃ¥ og anvende filer.



Mao.: *Hvor skal computeren kigge, nÃ¥r den vil interagere med lagret data, og hvor skal den putte dataen hen nÃ¥r den er fÃ¦rdig med at interagere med den.*

## Mapper: grundlaget for organiseringen

* En mappe (directory) er en container, som indeholder filer og andre mapper, og danner grundlaget for en hierakisk struktur (tree-/trÃ¦struktur).

* (TrÃ¦-)hierakiet giver en logisk og navigÃ©rbar organisering pÃ¥ computeren.

## Hierakiske strukturer

*â€¦ en hierakisk struktur er derfor den almindelige mÃ¥de at organisere filer og mapper i operativsystemer i dag.*

* Opbygningen er med afsÃ¦t i en root-mappe, som indeholder undermapper og filer. Herfra indeholder hver undermappe andre undermapper og filer, hvilket danner et trÃ¦ af mapper og filer, hvis vi zoomer ud.
  - **root directory**: I Unix-systemer (MacOS, Linux) betegnes den /. I Windows er der en root-mappe i hvert drev, betegnet med bogstavet for drevet, fx C:\
  - **Undermapper**: Mapper, der findes inde i andre mapper, fx /home/user/documents eller C:\Users\Username\Documents.

## Et filsystem

::: {style="font-size: 0.7em;"}
```
UNIX (MacOS, Linux)

/
â”œâ”€â”€ bin                  # Vigtige eksekverbare systemfiler
â”œâ”€â”€ sbin                 # Systemadministrative eksekverbare filer
â”œâ”€â”€ etc                  # Systemkonfigurationsfiler
â”œâ”€â”€ home                 # Brugermapper (personlige filer)
â”‚   â””â”€â”€ jeppe            # Brugeren "jeppe"'s hjemmemappe
â”‚       â”œâ”€â”€ Documents    # jeppes dokumenter
â”‚       â”œâ”€â”€ Downloads    # jeppes downloadede filer
â”‚       â”œâ”€â”€ Music        # jeppes musikfiler
â”‚       â”œâ”€â”€ Pictures     # jeppes billeder
â”‚       â”œâ”€â”€ Videos       # jeppes videofiler
â”‚       â””â”€â”€ Projects     # Personlige kodeprojekter og scripts
â”‚           â””â”€â”€ snake_game
â”‚               â”œâ”€â”€ main.py # Python-kode til et snake-spil
â”‚               â””â”€â”€ assets  # Grafikfiler til spillet
â”œâ”€â”€ root                 # Superbrugerens hjemmemappe
â”œâ”€â”€ usr                  # Bruger- og systemprogrammer
â”‚   â”œâ”€â”€ bin              # Programmer installeret til brugere
â”‚   â”œâ”€â”€ lib              # Systemets biblioteker
â”‚   â””â”€â”€ local            # Lokalt installerede programmer
â”œâ”€â”€ var                  # Variable data som logs og mails
â”‚   â”œâ”€â”€ log              # Systemets logfiler
â”‚   â””â”€â”€ tmp              # Midlertidige filer
â”œâ”€â”€ tmp                  # Midlertidige filer (slettes ved genstart)
â”œâ”€â”€ dev                  # Systemets enheder som harddiske og terminaler
â”œâ”€â”€ mnt                  # Monteringspunkt for midlertidige enheder
â”‚   â””â”€â”€ usb-drive        # En USB-nÃ¸gle monteret her
â””â”€â”€ media                # Monteringspunkt for eksterne enheder
    â””â”€â”€ jeppe-usb        # jeppes eksterne harddisk hvis monteret
```
:::

---


::: {style="font-size: 0.7em;"}
```
Windows

C:\
â”œâ”€â”€ Program Files            # Programmer installeret for alle brugere
â”œâ”€â”€ Program Files (x86)      # 32-bit versioner (pÃ¥ 64-bit systemer)
â”œâ”€â”€ Users                    # Brugermapper (til hver bruger pÃ¥ systemet)
â”‚   â””â”€â”€ jeppe                # Brugeren "jeppe"'s hjemmemappe
â”‚       â”œâ”€â”€ Documents        # jeppes dokumenter
â”‚       â”œâ”€â”€ Downloads        # jeppes downloadede filer
â”‚       â”œâ”€â”€ Music            # jeppes musikfiler
â”‚       â”œâ”€â”€ Pictures         # jeppes billeder
â”‚       â”œâ”€â”€ Videos           # jeppes videofiler
â”‚       â”œâ”€â”€ Desktop          # Filer og genveje pÃ¥ jeppes skrivebord
â”‚       â”œâ”€â”€ AppData          # jeppes personlige app-data og indstillinger
â”‚       â””â”€â”€ Projects         # Personlige kodeprojekter og scripts
â”‚           â””â”€â”€ snake_game
â”‚               â”œâ”€â”€ main.py  # Python-kode til et snake-spil
â”‚               â””â”€â”€ assets   # Grafikfiler til spillet
â”œâ”€â”€ Windows                  # Operativsystemets filer
â”‚   â”œâ”€â”€ System32             # Vigtige systemfiler 
â”‚   â””â”€â”€ Temp                 # Midlertidige filer, der bruges af systemet
â”œâ”€â”€ ProgramData              # Data, der deles af applikationer pÃ¥ systemet
â””â”€â”€ Temp                     # Midlertidige filer
```
:::


## *Navigation*: Absolutte og relative stier

* **Absolut sti**: En sti, der beskriver placeringen af en fil eller mappe i forhold til root-mappen. Fx /home/user/documents/projekt.docs eller C:\Users\Username\Documents\projekt.docx.
* **Relativ sti**: En sti, der beskriver placeringen af en fil eller mappe i forhold til den nuvÃ¦rende mappe. Hvis vi er i mappen /home/user, kan vi nÃ¸jes med den relative sti documents/projekt.docx for at henvise til filen.

## *Terminalen*: interaktion med computeren (og filsystemet)

*Terminalen* er det, der giver os adgang til *kommandolinjegrÃ¦nsefladen* (**CLI**). Selvom den har miste meget af sin position blandt den gennemsnitlige computer-bruger, grundet fremkomsten ad *grafiske brugergrÃ¦nseflader* (**GUI**), er den fortsat en meget effektiv mÃ¥de at interagere med computeren. SÃ¦rligt pÃ¥ Unix-systemer.

---

NÃ¥r vi anvender CLI, bruger vi en `shell`, der er et program til fortolkning af kommandoer. De to mest almindelige shell-programmer er:

* **Bash** (Bourne Again Shell): Standard pÃ¥ mange Linux-distributioner og tidligere pÃ¥ macOS.
* **Zsh** (Z Shell): Standard pÃ¥ macOS fra og med version 10.15 Catalina.

For jer, vil der nÃ¦ppe komme en situation, hvor I vil opleve en forskel pÃ¥ de to. Begge kan tolke alle standard kommandoer. Zsh er dog ofte omtalt som mere brugervenligt og har flere muligheder for personliggÃ¸relse, men bash er mere end tilstrÃ¦kkeligt.


## Navigation i filsystemet (*liveâ€¦*)

Er navigation med CML nÃ¸dvendigt? **Nej.** Men det kan give et flow, hvis vi primÃ¦rt laver kodearbejde da terminalen kan tilgÃ¥s â€œindeniâ€ programmer som `Positron`.

> **Spg.**: Hvorfor pÃ¥stÃ¥r jeg sÃ¥ at det ikke en god idÃ© ikke at gemme filer pÃ¥ skrivebordet som default?

<span class="timer" data-time="120"></span>


# *Versionskontrol:* Installation af Git i fÃ¦llesskab

## Git og organisering af arbejde

::: {style="font-size: 1.5em;"}
```
/projektarbejde
â””â”€â”€/backup
    â”œâ”€â”€ projekt_281024.docx
    â”œâ”€â”€ projekt_311024.docx
    â”œâ”€â”€ projekt_041224.docx
    â”œâ”€â”€ projekt_final.docx
    â”œâ”€â”€ projekt_final2.docx
    â”œâ”€â”€ projekt_final3.docx
    â”œâ”€â”€ projekt_final_final.docx
    â””â”€â”€ projekt_FINAL.docx
```
:::

## Versionskontrol

Versionkontrol er et system (software), der holder styr pÃ¥ Ã¦ndringer af filer over tid, der gÃ¸r det muligt at genskabe vores tidligere arbejde. Virker for (stort set) alle filer.

PÃ¥ stÃ¸rre projekterâ€”hvor flere er involveretâ€”er det vigtigt at have kontrol over, hvem der foretager Ã¦ndringer, hvilke Ã¦ndringer der er blevet foretaget, og hvordan man kan rulle tilbage til tidligere versioner, hvis noget gÃ¥r galt.

*â€œ[Git] allows you to revert selected files back to a previous state, revert the entire project back to a previous state, compare changes over time, see who last modified something that might be causing a problem, who introduced an issue and when, and more.â€*

## FormÃ¥l

I et langsigtet perspektiv vil Git hjÃ¦lpe dig med at holde et projekt organiseret, muliggÃ¸re (mere) effektivt samarbejde og sikre, at vi altid har en backup af dine fremskridt.

**TÃ¦nk pÃ¥ det som en avanceret "fortryd"-funktion for hele projekter.**

:::: {.columns}

::: {style="font-size: 1.5em;"}
::: {.column width="50%"}
```
/projektarbejde
â””â”€â”€/backup
    â”œâ”€â”€ projekt_281024.docx
    â”œâ”€â”€ projekt_311024.docx
    â”œâ”€â”€ projekt_041224.docx
    â”œâ”€â”€ projekt_final.docx
    â”œâ”€â”€ projekt_final2.docx
    â”œâ”€â”€ projekt_final3.docx
    â”œâ”€â”€ projekt_final_final.docx
    â””â”€â”€ projekt_FINAL.docx
```
:::

::: {.column width="50%"}
```
/projektarbejde
â”œâ”€â”€ .git      <- Git's skjulte data
â””â”€â”€ projekt.docx
```
:::
:::

::::

---

![](resources/git.png) 

---

![](resources/git2.jpg) 

## Versionskontrol 

:::: {.columns}

::: {.column width="50%"}
::: {style="font-size: 0.8em;"}
"*A* **local version control system** *is a local database located on your local computer, in which every file change is stored as a patch. Every patch set contains only the changes made to the file since its last version. In order to see what the file looked like at any given moment, it is necessary to add up all the relevant patches to the file in order until that given moment.*

*The main problem with this is that everything is stored locally. If anything were to happen to the local database, all the patches would be lost. If anything were to happen to a single version, all the changes made after that version would be lost.*

*Also, collaborating with other developers or a team is very hard or nearly impossible.*"
:::
:::

::: {.column width="50%"}

![](resources/versionkontrol.png)

:::


::::



---

:::: {.columns}

::: {.column width="50%"}
::: {style="font-size: 0.8em;"}
"*A* **centralized version control system** *has a single server that contains all the file versions. This enables multiple clients to simultaneously access files on the server, pull them to their local computer or push them onto the server from their local computer. This way, everyone usually knows what everyone else on the project is doing. Administrators have control over who can do what.*

*This allows for easy collaboration with other developers or a team.*

*The biggest issue with this structure is that everything is stored on the centralized server. If something were to happen to that server, nobody can save their versioned changes, pull files or collaborate at all. Similar to Local Version Control, if the central database became corrupted, and backups haven't been kept, you lose the entire history of the project except whatever single snapshots people happen to have on their local machines.*"
:::
:::

::: {.column width="50%"}

![](resources/versionkontrol2.png)


:::


::::

--- 

:::: {.columns}

::: {.column width="50%"}
::: {style="font-size: 0.8em;"}
"*With* **distributed version control systems**, *clients donâ€™t just check out the latest snapshot of the files from the server, they fully mirror the repository, including its full history. Thus, everyone collaborating on a project owns a local copy of the whole project, i.e. owns their own local database with their own complete history.*

*With this model, if the server becomes unavailable or dies, any of the client repositories can send a copy of the project's version to any other client or back onto the server when it becomes available. It is enough that one client contains a correct copy which can then easily be further distributed.*"
:::
:::

::: {.column width="50%"}

![](resources/versionkontrol3.png)


:::

::::

---

![](resources/git3.png) 

## Git i praksis

Den â€œusynligeâ€ .git mappe skaber vi med Git-kommandoen:

::: {style="font-size: 1.5em;"}
```
git init
```
:::

Kommandoen skaber en ny undermappe (.git) og er â€œskelettetâ€ for vores repository. Denne mappe indeholder alle Gitâ€™s interne data, der bruges til at spore og administrere versionshistorikken for dit projekt.

***I skal vÃ¦re opmÃ¦rksom pÃ¥ hvilken mappe I befinder jer i, nÃ¥r i kÃ¸rer git init. Fremgangen skal vÃ¦re:***

::: {style="font-size: 1.5em;"}
```
cd <absolut eller relativ stil>
git init
```
:::

## Git i praksis

*Versionsstyringsprocessen med afsÃ¦t i .git skelletet bestÃ¥r af 3 stadier:*

- **Working Directory:** den mappe, hvor vi kÃ¸rte git init. Alt der Ã¦ndres her spores af Git, men det gemmes (committes) ikke automatisk
- **Staging Area:** De Ã¦ndringer, som du Ã¸nsker registreret i nÃ¦ste commit bliver flyttet til et staging area ved git add .. Det er ikke som sÃ¥dan et â€œstedâ€, men et snarer et â€œtagâ€ til de filer, som Git skal gemme. Ingen Ã¦ndringer er blevet gemt endnu.
- **Repository:** NÃ¥r vi bruger kommandoen git commit -m "besked" gemmes alt staged data i vores Git-repository og alle Ã¦ndringer siden sidste commit bliver en permanent del af projektets versionshistorik.

## FÃ¦lles Ã¸velse 

:::: {.columns}

::: {.column width="50%"}
::: {style="font-size: 0.8em;"}
0. Opret en bruger pÃ¥ GitHub og hent GitHub Desktop
1. Ã‰n i studiegrupper opretter et repository pÃ¥ GitHub
2. Denne person laver fÃ¸lgende fil med koden: `print("FÃ¸rste commit")`
3. Den nÃ¦ste kloner repositoriet ned pÃ¥ egen computer
4. Ã†ndrer koden til: `print("FÃ¸rste commit + anden commit")` og "pusher"
5. Tredje person gÃ¸r det samme, tilfÃ¸jer: `print("FÃ¸rste commit + anden commit + tredje commit")`
:::
:::

::: {.column width="50%"}

```
1. git pull     ğŸ“¥ (hent seneste Ã¦ndringer)
2. Arbejd       ğŸ’» (skriv kode)  
3. git add      ğŸ“‹ (stage Ã¦ndringer)
4. git commit   ğŸ’¾ (gem lokalt)
5. git push     ğŸ“¤ (del med andre)
```
:::

::::

*Hvis der er tid tilbage, sÃ¥ lav i studiegruppen et repository til jeres mini-projekt.* 


